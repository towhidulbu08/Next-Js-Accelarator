"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.js":
/*!***********************!*\
  !*** ./middleware.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var _formatjs_intl_localematcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @formatjs/intl-localematcher */ \"(middleware)/./node_modules/@formatjs/intl-localematcher/lib/index.js\");\n/* harmony import */ var negotiator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! negotiator */ \"(middleware)/./node_modules/negotiator/index.js\");\n/* harmony import */ var negotiator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(negotiator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\n\n\nlet defaultLocale = \"en\";\nlet locales = [\n    \"en\",\n    \"bn\"\n];\nfunction getLocale(request) {\n    const acceptedLanguage = request.headers.get(\"accept-Language\") ?? undefined;\n    let headers = {\n        \"accept-language\": acceptedLanguage\n    };\n    let languages = new (negotiator__WEBPACK_IMPORTED_MODULE_1___default())({\n        headers\n    }).languages();\n    console.log(languages);\n    return (0,_formatjs_intl_localematcher__WEBPACK_IMPORTED_MODULE_0__.match)(languages, locales, defaultLocale);\n}\nfunction middleware(request) {\n    //get the pathname from request url\n    const pathname = request.nextUrl.pathname;\n    const pathNameIsMissingLocale = locales.every((locale)=>!pathname.startsWith(`/${locale}`) && !pathname.startsWith(`/${locale}/`));\n    if (pathNameIsMissingLocale) {\n        //  detect user's preference & redirect with a locale with a path eg: /en/about\n        const locale = getLocale(request);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.redirect(new URL(`/${locale}/${pathname}`, request.url));\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.next();\n}\nconst config = {\n    matcher: [\n        \"/((?!_next).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUQ7QUFDakI7QUFDTztBQUUzQyxJQUFJRyxnQkFBZ0I7QUFDcEIsSUFBSUMsVUFBVTtJQUFDO0lBQU07Q0FBSztBQUUxQixTQUFTQyxVQUFVQyxPQUFPO0lBQ3hCLE1BQU1DLG1CQUFtQkQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCQztJQUVuRSxJQUFJRixVQUFVO1FBQUUsbUJBQW1CRDtJQUFpQjtJQUNwRCxJQUFJSSxZQUFZLElBQUlWLG1EQUFVQSxDQUFDO1FBQUVPO0lBQVEsR0FBR0csU0FBUztJQUNyREMsUUFBUUMsR0FBRyxDQUFDRjtJQUNaLE9BQU9YLG1FQUFLQSxDQUFDVyxXQUFXUCxTQUFTRDtBQUNuQztBQUVPLFNBQVNXLFdBQVdSLE9BQU87SUFDaEMsbUNBQW1DO0lBQ25DLE1BQU1TLFdBQVdULFFBQVFVLE9BQU8sQ0FBQ0QsUUFBUTtJQUN6QyxNQUFNRSwwQkFBMEJiLFFBQVFjLEtBQUssQ0FDM0MsQ0FBQ0MsU0FDQyxDQUFDSixTQUFTSyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUVELE9BQU8sQ0FBQyxLQUFLLENBQUNKLFNBQVNLLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRUQsT0FBTyxDQUFDLENBQUM7SUFHNUUsSUFBSUYseUJBQXlCO1FBQzNCLCtFQUErRTtRQUMvRSxNQUFNRSxTQUFTZCxVQUFVQztRQUN6QixPQUFPSixxREFBWUEsQ0FBQ21CLFFBQVEsQ0FDMUIsSUFBSUMsSUFBSSxDQUFDLENBQUMsRUFBRUgsT0FBTyxDQUFDLEVBQUVKLFNBQVMsQ0FBQyxFQUFFVCxRQUFRaUIsR0FBRztJQUVqRDtJQUVBLE9BQU9yQixxREFBWUEsQ0FBQ3NCLElBQUk7QUFDMUI7QUFFTyxNQUFNQyxTQUFTO0lBQ3BCQyxTQUFTO1FBQUM7S0FBaUI7QUFDN0IsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9taWRkbGV3YXJlLmpzPzNiY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWF0Y2ggfSBmcm9tIFwiQGZvcm1hdGpzL2ludGwtbG9jYWxlbWF0Y2hlclwiO1xyXG5pbXBvcnQgTmVnb3RpYXRvciBmcm9tIFwibmVnb3RpYXRvclwiO1xyXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuXHJcbmxldCBkZWZhdWx0TG9jYWxlID0gXCJlblwiO1xyXG5sZXQgbG9jYWxlcyA9IFtcImVuXCIsIFwiYm5cIl07XHJcblxyXG5mdW5jdGlvbiBnZXRMb2NhbGUocmVxdWVzdCkge1xyXG4gIGNvbnN0IGFjY2VwdGVkTGFuZ3VhZ2UgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwiYWNjZXB0LUxhbmd1YWdlXCIpID8/IHVuZGVmaW5lZDtcclxuXHJcbiAgbGV0IGhlYWRlcnMgPSB7IFwiYWNjZXB0LWxhbmd1YWdlXCI6IGFjY2VwdGVkTGFuZ3VhZ2UgfTtcclxuICBsZXQgbGFuZ3VhZ2VzID0gbmV3IE5lZ290aWF0b3IoeyBoZWFkZXJzIH0pLmxhbmd1YWdlcygpO1xyXG4gIGNvbnNvbGUubG9nKGxhbmd1YWdlcyk7XHJcbiAgcmV0dXJuIG1hdGNoKGxhbmd1YWdlcywgbG9jYWxlcywgZGVmYXVsdExvY2FsZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcXVlc3QpIHtcclxuICAvL2dldCB0aGUgcGF0aG5hbWUgZnJvbSByZXF1ZXN0IHVybFxyXG4gIGNvbnN0IHBhdGhuYW1lID0gcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lO1xyXG4gIGNvbnN0IHBhdGhOYW1lSXNNaXNzaW5nTG9jYWxlID0gbG9jYWxlcy5ldmVyeShcclxuICAgIChsb2NhbGUpID0+XHJcbiAgICAgICFwYXRobmFtZS5zdGFydHNXaXRoKGAvJHtsb2NhbGV9YCkgJiYgIXBhdGhuYW1lLnN0YXJ0c1dpdGgoYC8ke2xvY2FsZX0vYClcclxuICApO1xyXG5cclxuICBpZiAocGF0aE5hbWVJc01pc3NpbmdMb2NhbGUpIHtcclxuICAgIC8vICBkZXRlY3QgdXNlcidzIHByZWZlcmVuY2UgJiByZWRpcmVjdCB3aXRoIGEgbG9jYWxlIHdpdGggYSBwYXRoIGVnOiAvZW4vYWJvdXRcclxuICAgIGNvbnN0IGxvY2FsZSA9IGdldExvY2FsZShyZXF1ZXN0KTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QoXHJcbiAgICAgIG5ldyBVUkwoYC8ke2xvY2FsZX0vJHtwYXRobmFtZX1gLCByZXF1ZXN0LnVybClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBtYXRjaGVyOiBbXCIvKCg/IV9uZXh0KS4qKVwiXSxcclxufTtcclxuIl0sIm5hbWVzIjpbIm1hdGNoIiwiTmVnb3RpYXRvciIsIk5leHRSZXNwb25zZSIsImRlZmF1bHRMb2NhbGUiLCJsb2NhbGVzIiwiZ2V0TG9jYWxlIiwicmVxdWVzdCIsImFjY2VwdGVkTGFuZ3VhZ2UiLCJoZWFkZXJzIiwiZ2V0IiwidW5kZWZpbmVkIiwibGFuZ3VhZ2VzIiwiY29uc29sZSIsImxvZyIsIm1pZGRsZXdhcmUiLCJwYXRobmFtZSIsIm5leHRVcmwiLCJwYXRoTmFtZUlzTWlzc2luZ0xvY2FsZSIsImV2ZXJ5IiwibG9jYWxlIiwic3RhcnRzV2l0aCIsInJlZGlyZWN0IiwiVVJMIiwidXJsIiwibmV4dCIsImNvbmZpZyIsIm1hdGNoZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./middleware.js\n");

/***/ })

});